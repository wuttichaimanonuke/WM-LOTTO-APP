CREATE OR REPLACE PROCEDURE "ANALYZERLOTTERY"."ACTIVE_STATUS_ROUND_CONFIGURE" (vRcfIdIn IN VARCHAR2, vModifyByIn IN VARCHAR2, vResultCode OUT VARCHAR2)
AS
vUpdateIsSuccess						BOOLEAN := true;
vCount											NUMBER;
BEGIN
	DBMS_OUTPUT.PUT_LINE('CHANGE_STATUS_ROUND_CONFIGURE BEGIN.');
	--1.0 BEGIN
	UPDATE	ROUND_CONFIGURE
	SET
		R_STATUS 			= 'DISABLE'
		,	MODIFYDATE	= SYSDATE
		,	MODIFYBY		= vModifyByIn
	WHERE	R_STATUS 	= 'ACTIVE';
	--1.0 END
	--1.1 BEGIN
	BEGIN
		SELECT COUNT(1)
			INTO	vCount
		FROM ROUND_CONFIGURE
		WHERE	RCF_ID = vRcfIdIn;
	END;
	IF vCount = 0 THEN
		vResultCode := 'CRF404';
		ROLLBACK;
		RETURN;
	ELSIF	vCount	!= 1 THEN
		ROLLBACK;
		vResultCode :=	'CRF401';
		RETURN;
	END IF;
	--1.1 END
	--1.2 BEGIN
	BEGIN
		vUpdateIsSuccess := true;
		UPDATE ROUND_CONFIGURE
		SET
			R_STATUS 			=	'ACTIVE'
			,	MODIFYDATE	=	SYSDATE
			,	MODIFYBY		= vModifyByIn
		WHERE RCF_ID 		= vRcfIdIn;
		EXCEPTION
			WHEN	OTHERS THEN
				vUpdateIsSuccess := false;
	END;
	IF	vUpdateIsSuccess THEN
		vResultCode := 'CRF200';
		COMMIT;
	ELSE
		ROLLBACK;
		vResultCode := 'CRF400';
	END IF;
	--1.2	END
	DBMS_OUTPUT.PUT_LINE('CHANGE_STATUS_ROUND_CONFIGURE END.');
END;